import{r as l,j as e,F as xe,a as ge,b as pe,i as ie,B as fe,c as _e,d as ye,u as I,m as T,A as W,e as Q,f as se,g as ne,h as ve,P as je,C as be,k as ke,l as we,R as Ne,n as z,o as Se}from"./vendor-MoqzTrDd.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();function Ce({theme:s,setTheme:a}){return l.useEffect(()=>{document.documentElement.setAttribute("data-theme",s)},[s]),()=>{s==="light"?(a("dark"),localStorage.setItem("themeColor","dark")):(a("light"),localStorage.setItem("themeColor","light"))}}function Ee({theme:s,setTheme:a}){const r=Ce({theme:s,setTheme:a});return e.jsx("button",{onClick:r,"aria-label":"Toggle dark mode",className:`relative w-10 h-6 sm:w-16 sm:h-8 rounded-full transition-all duration-700 
                focus:outline-none hover:opacity-50 hover:scale-110 
                bg-blue-200 dark:bg-gray-600 cursor-pointer`,children:e.jsx("span",{className:`absolute top-0.5 left-0.5 flex justify-center items-center w-5 h-5 sm:top-1 sm:left-1 sm:w-6 sm:h-6 dark:bg-[var(--dark)] bg-[#fcfcfc] rounded-full shadow-md transform transition-transform duration-700 ${s==="dark"?"translate-x-4 sm:translate-x-8":""}`,children:s==="dark"?e.jsx(xe,{className:"w-5 h-5 sm:w-5 sm:h-5 text-yellow-100"}):e.jsx(ge,{className:"w-6 h-6 text-yellow-500"})})})}function he({settingsVisible:s,setSettingsVisible:a,logoClick:r,theme:n,setTheme:o,children:i}){const c=()=>a(d=>!d);return e.jsx("header",{className:`sticky top-0 left-0 w-full z-10 border-white/10 backdrop-blur-3xl transition-opacity duration-300  
                ${s?"opacity-0":"opacity-100"}`,children:e.jsxs("div",{className:"flex justify-between items-center py-6 gap-x-4 container",children:[e.jsx("span",{className:`select-none text-4xl font-bold text-[var(--dark)] dark:text-[var(--light)] cursor-pointer break-all inline-block 
                        transition-transform duration-500 hover:translate-x-[1px] hover:translate-y-[1px] hover:[text-shadow:2px_2px_5px_rgba(213,213,213,0.3)] 
                        hover:scale-108 logo-text hover:opacity-30`,onClick:r,children:i}),e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[e.jsx(Ee,{theme:n,setTheme:o}),e.jsx("button",{className:"cursor-pointer transition-all duration-700 hover:opacity-30 hover:rotate-[360deg] hover:scale-110",onClick:c,"aria-label":"Toggle settings",children:e.jsx(pe,{className:"w-10 h-10 sm:w-12 sm:h-12 dark:text-blue-100 text-[var(--dark)]"})})]})]})})}function te({onClick:s,children:a,isActive:r}){return e.jsx("button",{onClick:s,className:`select-none px-4 py-2 text-3xl font-medium rounded-lg transition-all duration-500 cursor-pointer ${r?"bg-[var(--dark)] text-[var(--light)] dark:bg-[var(--light)] dark:text-[var(--dark)]":"border border-[var(--dark)] dark:border-[var(--light)] bg-transparent text-[var(--dark)] dark:text-[var(--light)] hover:bg-[var(--dark)] hover:text-[var(--light)] dark:hover:bg-[var(--light)] dark:hover:text-[var(--dark)]"}`,children:a})}function ue({wordsData:s,selectedPart:a,selectedTheme:r,setSelectedPart:n,setSelectedTheme:o,setUniqueParts:i,trigger:c,setCurrentItem:d}){l.useEffect(()=>{i([...new Set(s.flatMap(p=>p.partOfSpeech.split("/").map(k=>k.trim())))].filter(p=>p!==""))},[s,i]);const u=l.useMemo(()=>s.length?a==="all"?s:s.filter(p=>p.partOfSpeech.split("/").map(k=>k.trim()).includes(a)):[],[a,s]),h=l.useMemo(()=>s.length?r==="all"?[...u].sort(()=>.5-Math.random()):[...u].sort(()=>.5-Math.random()).filter(p=>p.theme===r):[],[r,u,c]),y=l.useMemo(()=>s.length?[...new Set(u.map(p=>p.theme))].filter(p=>p.trim()!==""):[],[u]);return{workArray:h,themeArray:y,handlePartChange:p=>{n(p),o("all"),d(0)},handleThemeChange:p=>{o(p),d(0)}}}ie.use(fe).use(_e).use(ye).init({fallbackLng:"en",debug:!0,interpolation:{escapeValue:!1},resources:{en:{translation:{welcome:"Welcome to our website!",change_language:"Change Language",logo:"EnglishMan",hello_text:" Hello! Glad to welcome you to EnglishMan! Start learning new words right now!",sound_enabled:"Sound ENABLED 🔊",sound_disabled:"Sound DISABLED 🔇",language_menu:"Language:",api_examples_enabled:"Examples from API ENABLED ✅",api_examples_disabled:"Examples from API DISABLED ❌",edit_gs:"Edit Google Sheet📄",add_gs:"Add Google Sheet📄",current_data_gs:"Current data: Google Sheet📄",current_data_default:"Current data: Default🗂️",mistakes_list:"List of mistakes 🗿",loading:"Loading...⏳",settings:"settings",study_mode:"Study Mode 📚",test_mode:"Test Mode 📝",english:"English",russian:"Russian",ukrainian:"Ukrainian",404:"Page not found",mistake_test_mode:"Mistake test mode",test_mode2:"Test mode ✍️",choose_test_mode:"Choose test mode:",manual:"Manual",choice:"Choice",manual_mode:"Manual Type",choice_mode:"Choice Mode",mistake_word_test:"Mistake words test",choose_part_of_speech:"Choose part of speech:",choose_theme:"Choose theme:",check:"Check",placeholder:'Enter a word and press "Enter"',word:"Word",translation:"Translation",loading_examples:"Loading examples...⏳",examples:"Examples...",example:"Example",start_test:"Start test",next:"next",prev:"prev",mistake_list_header:"This is your list of mistakes:",you_have:"You have",weak:"weak",words:"words",part_of_speech:"Part of speech",google_settings_hello:"If you want to study your words, you can use Google Sheets.",instruction:"Instruction",important_google:"IMPORTANT‼️ If the data in Google Sheet has been updated, you need to wait a few minutes for the new data to be pulled.",cur_link:"Current link",paste_link:"Paste the link to Google Sheet",add:"Add",instruction_list_1:"1. Create a new document in Google Sheets.",instruction_list_2:"2. In the first row, specify the column names as follows: Word, Translation, Example, Part of speech, Theme. IMPORTANT‼️ Names must match.",instruction_list_3:"3. Fill in the table with your data:",instruction_list_3_1:"Word and Translation — required fields, they cannot be empty.",instruction_list_3_2:"Part of speech must contain one of the following values: NOUN, PRONOUN, VERB, ADJECTIVE, ADVERB, PREPOSITION, CONJUNCTION, INTERJECTION.",instruction_list_3_3:"Example — if the word has several examples, separate them with a '+', for example: go to bed + go on foot.",instruction_list_4:"4. Publish the table in CSV format: File → Publish to the web → CSV.",instruction_list_5:"5. Copy the received link and paste it into the appropriate field on the Englishman website.",close:"Close",result_1:"Excellent! You have reached perfection! 🎉🏆",result_2:"Great result! A little more, and you're at the top! 🚀",result_3:"Well done! You are on the right track! 🔥",result_4:"Not bad, but there is room for improvement! Onward to new victories! 💪",result_5:"Don't give up! Every step brings you closer to your goal! ✨",result_6:"Not the best result 😞, but don't give up! Keep moving forward! 💪",your_score:"Your score:",you_got:"You got",out_of:"out of",words_correct:"words correct",wrong_answer:"Wrong",correct_answer:"Correct",empty_google_sheet:"Your Google Sheet is empty!",gsh_some_problem:"There is a problem with your Google Sheet. Please check it!",something_wrong:"Something went wrong. Check your Google Sheet and the link.",no_columns:"There are no columns in your table.",work_on_mistakes:"Work on your mistakes",show_image:"Show image",hide_image:"Hide image",noun:"noun",pronoun:"pronoun",verb:"verb",adjective:"adjective",adverb:"adverb",preposition:"preposition",conjunction:"conjunction",interjection:"interjection",phrase:"phrase",count_of_words:"Count of words: ",all:"all"}},ru:{translation:{logo:"ИнглишМен",welcome:"Добро пожаловать на наш сайт!",change_language:"Сменить язык",hello_text:"Добро пожаловать! Рады приветствовать вас на EnglishMan! Начните учить новые слова прямо сейчас!",sound_enabled:"Звук ВКЛЮЧЕН 🔊",sound_disabled:"Звук ВЫКЛЮЧЕН 🔇",language_menu:"Язык:",api_examples_enabled:"Примеры с API ВКЛЮЧЕНЫ ✅",api_examples_disabled:"Примеры с API ВЫКЛЮЧЕНЫ ❌",edit_gs:"Изменить Google Sheet📄",add_gs:"Добавить Google Sheet📄",current_data_gs:"Текущие данные: Google Sheet📄",current_data_default:"Текущие данные: По умолчанию🗂️",mistakes_list:"Список ошибок 🗿",loading:"Загрузка...⏳",settings:"настройки",study_mode:"Режим учёбы 📚",test_mode:"Режим теста 📝",english:"Английский",russian:"Русский",ukrainian:"Украинский",404:"Страница не найдена",mistake_test_mode:"Режим теста с ошибками",test_mode2:"Режим теста ✍️",choose_test_mode:"Выберите режим теста",manual:"Ручной",choice:"Выбор",manual_mode:"Ручной ввод",choice_mode:"Режим выбора",mistake_word_test:"Тест на ошибочные слова",choose_part_of_speech:"Выберите часть речи:",choose_theme:"Выберите тему:",check:"Проверить",placeholder:'Введите слово и нажмите "Enter"',word:"Слово",translation:"Перевод",loading_examples:"Загрузка примеров...⏳",examples:"Примеры...",example:"Пример",start_test:"Начать тест",next:"след",prev:"пред",mistake_list_header:"Это ваш список ошибок:",you_have:"У вас",weak:"проблемных",words:"слов(-а)",part_of_speech:"Часть речи",google_settings_hello:"Если вы хотите изучать свои слова, можно использовать Google Таблицы.",instruction:"Инструкция",important_google:"ВАЖНО‼️ Если данные в Google Sheet обновились, нужно подождать несколько минут, чтобы подтягивало новые данные.",cur_link:"Текущая ссылка",paste_link:"Вставьте ссылку на Google Sheet",add:"Добавить",instruction_list_1:"1. Создайте новый документ в Google Sheets.",instruction_list_2:"2. В первой строке укажите названия колонок: Word, Translation, Example, Part of speech, Theme. ВАЖНО‼️ Названия должны совпадать.",instruction_list_3:"3. Заполните таблицу своими данными:",instruction_list_3_1:"Word и Translation — обязательные поля, они не могут быть пустыми.",instruction_list_3_2:"Part of speech должно содержать одно из следующих значений: NOUN, PRONOUN, VERB, ADJECTIVE, ADVERB, PREPOSITION, CONJUNCTION, INTERJECTION.",instruction_list_3_3:"Example — если у слова несколько примеров, разделяйте их знаком '+', например: go to bed + go on foot.",instruction_list_4:"4. Опубликуйте таблицу в формате CSV: Файл → Опубликовать в интернете → CSV.",instruction_list_5:"5. Скопируйте полученную ссылку и вставьте её в соответствующее поле на сайте Englishman.",close:"Закрыть",result_1:"Превосходно! Вы достигли идеала! 🎉🏆",result_2:"Отличный результат! Еще немного, и Вы на вершине! 🚀",result_3:"Молодец! Вы на правильном пути! 🔥",result_4:"Неплохо, но есть куда стремиться! Вперед к новым победам! 💪",result_5:"Не сдавайтесь! Каждый шаг приближает тебя к цели! ✨",result_6:"Не лучший результат 😞, но не сдавайтесь! Продолжайте двигаться вперед! 💪",your_score:"Ваш результат:",you_got:"Вы правильно ответили на",out_of:"из",words_correct:"слов",wrong_answer:"Неверно",correct_answer:"Верно",empty_google_sheet:"Ваш Google Sheet пуст!",gsh_some_problem:"Возникла проблема с вашим Google Sheet. Пожалуйста, проверьте его!",something_wrong:"Что-то пошло не так. Проверьте ваш Google Sheet и ссылку.",no_columns:"В вашей таблице нет столбцов.",work_on_mistakes:"Робота над ошибками.",show_image:"Показать изображение",hide_image:"Скрыть изображение",noun:"существительное",pronoun:"местоимение",verb:"глагол",adjective:"прилагательное",adverb:"наречие",preposition:"предлог",conjunction:"союз",interjection:"междометие",phrase:"фраза",count_of_words:"Количество слов: ",all:"все"}},ua:{translation:{logo:"ІнглішМен",welcome:"Ласкаво просимо на наш сайт!",change_language:"Змінити мову",hello_text:"Ласкаво просимо! Раді вітати вас на EnglishMan! Почніть вивчати нові слова прямо зараз!",sound_enabled:"Звук УВІМКНЕНО 🔊",sound_disabled:"Звук ВИМКНЕНО 🔇",language_menu:"Мова:",api_examples_enabled:"Приклади з API УВІМКНЕНО ✅",api_examples_disabled:"Приклади з API ВИМКНЕНО ❌",edit_gs:"Змінити Google Sheet📄",add_gs:"Додати Google Sheet📄",current_data_gs:"Поточні дані: Google Sheet📄",current_data_default:"Поточні дані: За замовчуванням🗂️",mistakes_list:"Список помилок 🗿",loading:"Завантаження...⏳",settings:"Налаштування",study_mode:"Режим навчання 📚",test_mode:"Режим тесту 📝",english:"Англійська",russian:"Російська",ukrainian:"Українська",404:"Це шо це таке? Такої сторінки не знайдено!",mistake_test_mode:"Режим тесту з помилками",test_mode2:"Режим тесту ✍️",choose_test_mode:"Оберіть режим тесту",manual:"Ручний",choice:"Вибір",manual_mode:"Ручне введення",choice_mode:"Режим вибору",mistake_word_test:"Тест на помилкові слова",choose_part_of_speech:"Оберіть частину мови:",choose_theme:"Оберіть тему:",check:"Перевірити",placeholder:'Введіть слово та натисніть "Enter"',word:"Слово",translation:"Переклад",loading_examples:"Завантаження прикладів...⏳",examples:"Приклади...",example:"Приклад",start_test:"Почати тест",next:"наст",prev:"попер",mistake_list_header:"Це ваш список помилок:",you_have:"У вас",weak:"проблемних",words:"слів",part_of_speech:"Частина мови",google_settings_hello:"Якщо ви хочете вивчати свої слова, можна використовувати Google Таблиці.",instruction:"Інструкція",important_google:"ВАЖЛИВО‼️ Якщо дані в Google Sheet оновилися, потрібно почекати кілька хвилин, щоб підтягнулися нові дані.",cur_link:"Поточне посилання",paste_link:"Вставте посилання на Google Sheet",add:"Додати",instruction_list_1:"1. Створіть новий документ у Google Sheets.",instruction_list_2:"2. У першому рядку вкажіть назви колонок: Word, Translation, Example, Part of speech, Theme. ВАЖЛИВО‼️ Назви мають збігатися.",instruction_list_3:"3. Заповніть таблицю своїми даними:",instruction_list_3_1:"Word і Translation — обов'язкові поля, вони не можуть бути порожніми.",instruction_list_3_2:"Part of speech має містити одне з таких значень: NOUN, PRONOUN, VERB, ADJECTIVE, ADVERB, PREPOSITION, CONJUNCTION, INTERJECTION.",instruction_list_3_3:"Example — якщо у слова кілька прикладів, розділяйте їх знаком '+', наприклад: go to bed + go on foot.",instruction_list_4:"4. Опублікуйте таблицю у форматі CSV: Файл → Опублікувати в Інтернеті → CSV.",instruction_list_5:"5. Скопіюйте отримане посилання та вставте його у відповідне поле на сайті Englishman.",close:"Закрити",result_1:"Чудово! Ви досягли ідеалу! 🎉🏆",result_2:"Відмінний результат! Ще трохи — і Ви на вершині! 🚀",result_3:"Молодець! Ви на правильному шляху! 🔥",result_4:"Непогано, але є куди прагнути! Вперед до нових перемог! 💪",result_5:"Не здавайтеся! Кожен крок наближає вас до мети! ✨",result_6:"Не найкращий результат 😞, але не здавайтеся! Продовжуйте рухатися вперед! 💪",your_score:"Ваш результат:",you_got:"Ви правильно відповіли на",out_of:"з",words_correct:"слів",wrong_answer:"Неправильно",correct_answer:"Правильно",empty_google_sheet:"Ваш Google Sheet порожній!",gsh_some_problem:"З Google Sheet якась проблема, перевірте!",something_wrong:"Щось пішло не так. Перевірте Google Sheet і посилання.",no_columns:"У таблиці немає стовпців.",work_on_mistakes:"Робота над помилками.",show_image:"Показати зображення",hide_image:"Приховати зображення",noun:"іменник",pronoun:"займенник",verb:"дієслово",adjective:"прикметник",adverb:"прислівник",preposition:"прийменник",conjunction:"сполучник",interjection:"вигук",count_of_words:"Кількість слів: ",phrase:"фраза",all:"всі"}}}});const A=(s,a,r="translation")=>{let n;a===-1?n=s:n=s[a][r];const o=n.split("--").map(i=>i.split(":").map(c=>c.trim())).reduce((i,[c,d])=>({...i,[c]:d}),{});return ie.language==="en"?o.ua||o.ru||n:o[ie.language]||o.ua||o.ru||n};function ae({label:s,value:a,options:r,onChange:n,isTheme:o}){const i="flex-1 max-w-full min-w-25 truncate cursor-pointer bg-[var(--light)] text-[var(--dark)] dark:bg-[var(--dark)] dark:text-[var(--light)] p-1 rounded-lg outline-none hover:opacity-70 text-xl sm:text-2xl",{t:c}=I();return e.jsxs("div",{className:"flex gap-2 font-medium flex-nowrap items-center",children:[e.jsx("p",{className:"text-xl sm:text-2xl",children:s}),e.jsxs("select",{className:`${i}`,value:a,onChange:d=>n(d.target.value),children:[e.jsx("option",{value:"all",children:c("all")}),r.map((d,u)=>e.jsx("option",{value:d,children:o?A(d,-1,"theme"):c(d)},u))]})]})}function Oe({fastAnimation:s,playSound:a,setFastAnimation:r,input:n,setInput:o,processChoice:i,currentItem:c,workArray:d,setSound:u,sound:h}){const{t:y}=I();return e.jsxs("div",{children:[e.jsx("input",{className:"my-4 w-full border py-3 px-5 rounded-lg border-[var(--dark)] dark:border-[var(--light)] outline-blue-300",type:"text",value:n,placeholder:y("placeholder"),onChange:m=>o(m.target.value),onKeyDown:m=>m.key==="Enter"&&i(n)}),e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("button",{className:"buttonStyle",onClick:()=>i(n),children:y("check")}),e.jsxs("p",{className:`cursor-pointer ${s?"underline":""}`,onClick:()=>{r(m=>!m),a("/click.mp3")},children:[c+1,"/",d.length]}),e.jsx("span",{className:"cursor-pointer hover:opacity-70",onClick:()=>u(m=>(localStorage.setItem("soundStatus",!m),!m)),children:h?"🔊":"🔇"})]})]})}function Te({fastAnimation:s,playSound:a,setFastAnimation:r,randomFourWords:n,processChoice:o,currentItem:i,setSound:c,sound:d,workArray:u}){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-5 flex gap-4 flex-wrap justify-around sm:justify-start items-center",children:n.map((h,y)=>e.jsx("button",{className:"buttonStyle flex-grow",onClick:()=>o(h.word),children:h.word},y))}),e.jsxs("div",{className:"mt-7 flex gap-5 items-center justify-center",children:[e.jsxs("p",{className:`cursor-pointer ${s?"underline":""}`,onClick:()=>{r(h=>!h),a("/click.mp3")},children:[i+1,"/",u.length]}),e.jsx("span",{className:"cursor-pointer hover:opacity-70",onClick:()=>c(h=>(localStorage.setItem("soundStatus",!h),!h)),children:d?"🔊":"🔇"})]})]})}function Pe({wordsData:s,setTestMode:a,setUniqueParts:r,testMode:n,uniqueParts:o,selectedPart:i,selectedTheme:c,setSelectedPart:d,setSelectedTheme:u,currentItem:h,setCurrentItem:y,sound:m,setSound:_,trigger:p,setWrongWords:k,wrongWords:S,mistakeTest:j,resetAll:v,fastAnimation:x,setFastAnimation:b}){const[w,f]=l.useState(""),[g,C]=l.useState([]),[E,$]=l.useState(!1),[F,U]=l.useState(""),[G,J]=l.useState([]),{workArray:P,themeArray:Y,handlePartChange:K,handleThemeChange:X}=ue({wordsData:j?S:s,selectedPart:i,selectedTheme:c,setSelectedPart:d,setSelectedTheme:u,setUniqueParts:r,trigger:p,setCurrentItem:y}),B=P.length,{t:N}=I(),Z=l.useCallback(O=>{a(O)},[a]);l.useEffect(()=>{J([])},[P]),l.useEffect(()=>{oe(),P.length===1&&a("manual")},[h,P]);const ee=O=>{if(!(n==="manual"&&w===""))if(O.trim().toLowerCase()===P[h].word.toLowerCase()){y(L=>L+1>=P.length?0:L+1),f("");const V=(JSON.parse(localStorage.getItem("wrongWords"))||[]).filter(L=>L.word!==P[h].word);localStorage.setItem("wrongWords",JSON.stringify(V)),h+1>=P.length?q({src:"welldone.mp3",time:0,message:"result"}):q({})}else J(M=>[...M.filter(L=>L.word!==P[h].word),P[h]]),q({src:"wrong.mp3",message:`${N("wrong_answer")} ❌`})},oe=()=>{if(P.length<=4){C(P);return}const M=P.filter((V,L)=>L!==h).sort(()=>.5-Math.random()).slice(0,3);M.push(P[h]),C(M.sort(()=>.5-Math.random()))},H=O=>{const M=new Audio(O);M.currentTime=0,M.play()},q=({src:O="correct.mp3",time:M=500,message:V=`${N("correct_answer")} ✅`})=>{U(V),!x&&$(!0),V==="result"&&$(!0),m&&H("/"+O),M!==0&&setTimeout(()=>$(!1),M)};return e.jsxs(T.section,{initial:{opacity:0,scale:.95,x:200},animate:{opacity:1,scale:1,x:0},exit:{opacity:0,scale:.9,x:"-50vw"},transition:{duration:.5,ease:"easeInOut"},className:"w-full",children:[e.jsxs(T.div,{animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.5,ease:"easeInOut"},layout:!0,className:`max-w-170 mx-auto flex flex-col ${n?"space-y-3":"space-y-4"} justify-center items-center`,children:[e.jsx("p",{className:`${n?"p-4":""} text-[var(--dark)] dark:text-[var(--light)] text-4xl font-semibold text-center`,children:N(j?"mistake_test_mode":"test_mode2")}),!n&&e.jsx("p",{className:"text-[var(--dark)] dark:text-[var(--light)] text-2xl font-medium text-center",children:N("choose_test_mode")}),e.jsxs("div",{className:"flex w-full justify-center gap-5 flex-wrap sm:mt-2",children:[["manual","choice"].map(O=>e.jsxs(te,{onClick:()=>Z(O),isActive:n===O,children:[e.jsx(T.span,{initial:{scale:1,opacity:1},animate:{scale:1.1,opacity:1},transition:{duration:10.3,ease:"easeInOut"},className:"sm:hidden",children:O==="manual"?n?"⌨️":`${N("manual")} ⌨️`:n?"✅":`${N("choice")} ✅`}),e.jsx("span",{className:"hidden sm:inline",children:O==="manual"?`${N("manual_mode")} ⌨️`:`${N("choice_mode")} ✅`})]},O)),e.jsx(W,{mode:"wait",children:n&&e.jsx(T.div,{initial:{opacity:0,y:-20,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:-20,height:0},transition:{duration:.5,ease:"easeInOut"},layout:!0,className:"mt-3 sm:mt-5 w-full dark:text-[var(--light)] text-[var(--dark)] text-2xl rounded-lg bg-blue-200 dark:bg-gray-800 overflow-hidden",children:e.jsxs("div",{className:"flex flex-col gap-3 p-7",children:[j&&e.jsx("p",{className:"text-3xl font-bold border-b-2 w-fit",children:N("mistake_word_test")}),o.length>=1&&e.jsx(ae,{label:N("choose_part_of_speech"),value:i,options:o,onChange:K,className:"h-12",isTheme:!1}),Y.length>=1&&e.jsx(ae,{label:N("choose_theme"),value:c,options:Y,onChange:X,className:"h-12",isTheme:!0}),e.jsx("div",{className:"mt-3",children:e.jsx("p",{className:"w-full text-3xl font-semibold break-words",children:P.length>0&&A(P,h)})}),n==="manual"&&e.jsx(Oe,{input:w,setInput:f,processChoice:ee,currentItem:h,workArray:P,setSound:_,sound:m,setFastAnimation:b,fastAnimation:x,playSound:H}),n==="choice"&&e.jsx(Te,{randomFourWords:g,processChoice:ee,currentItem:h,sound:m,setSound:_,workArray:P,setFastAnimation:b,fastAnimation:x,playSound:H})]})},"testModeBlock")})]})]},"testModeMainBlock"),e.jsx(W,{mode:"wait",children:E&&e.jsx($e,{setSelectedPart:d,setSelectedTheme:u,setCurrentProgress:J,setVisibleNotification:$,setWrongWords:k,currentProgress:G,mistakeTest:j,resetAll:v,isResult:F==="result",children:F==="result"?e.jsxs("div",{className:"flex flex-col gap-4",children:[j&&e.jsx("span",{className:"text-4xl font-bold pb-2 border-b-2",children:N("work_on_mistakes")}),e.jsx("span",{className:"font-bold text-4xl",children:(()=>{const O=(B-G.length)*100/B;return O===100?N("result_1"):O>=90?N("result_2"):O>=80?N("result_3"):O>=60?N("result_4"):O>=50?N("result_5"):N("result_6")})()}),e.jsxs("span",{className:"text-3xl font-bold",children:[N("your_score")," "," ",e.jsx("span",{className:"bg-[var(--light)] text-[var(--dark)] p-1 rounded-lg",children:`${Math.round((B-G.length)*100/B)}%.`})]}),e.jsx("span",{className:"text-2xl",children:`${N("you_got")} ${B-G.length} ${N("out_of")} ${B} ${N("words_correct")}.`})]}):e.jsx("span",{className:"text-4xl font-medium",children:F})})})]})}function $e({currentProgress:s,setWrongWords:a,isResult:r,setCurrentProgress:n,setSelectedPart:o,setSelectedTheme:i,setVisibleNotification:c,mistakeTest:d,resetAll:u,children:h}){const{t:y}=I(),m=p=>{a(k=>{const S=JSON.parse(localStorage.getItem("wrongWords")||"[]"),j=d?S:k,v=p.filter(b=>!j.some(w=>w.word===b.word)),x=[...j,...v];return localStorage.setItem("wrongWords",JSON.stringify(x)),x})},_=p=>{p.target===p.currentTarget&&(m(s),u(),n([]),c(!1))};return l.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]),e.jsx(T.div,{initial:{scale:.55},animate:{scale:1},exit:{scale:1.45,opacity:0},transition:{duration:.2,ease:"easeInOut"},className:`z-50 px-2 flex items-center justify-center fixed inset-0 min-h-screen w-full text-[var(--dark)] dark:text-[var(--light)] overflow-hidden ${r?"backdrop-blur-xl":"bg-[var(--light)] dark:bg-[var(--dark)]"}`,children:e.jsxs("div",{className:"grow flex flex-col justify-center items-center container",children:[h,r&&e.jsx("button",{onClick:_,className:"mt-4 text-3xl font-medium bg-[var(--dark)] text-[var(--light)] dark:bg-[var(--light)] dark:text-[var(--dark)] py-1 px-3 rounded-lg cursor-pointer hover:opacity-70",children:y("close")})]})})}async function le(){let s=[];const r=await(await fetch("/english.csv")).text(),n=r.includes(";")?";":",",o=r.split(`
`).map(m=>m.split(n)),i=o[0].map(m=>m.trim().toLowerCase()),c=i.indexOf("word"),d=i.indexOf("translation"),u=i.indexOf("example"),h=i.indexOf("part of speech"),y=i.indexOf("theme");return[c,d,u,h,y].includes(-1)&&alert(t("no_columns")),s=o.slice(1).map(m=>{var _,p,k,S,j;return{word:(_=m[c])==null?void 0:_.trim(),translation:(p=m[d])==null?void 0:p.trim(),example:(k=m[u])==null?void 0:k.trim(),theme:(S=m[y])==null?void 0:S.trim(),partOfSpeech:(j=m[h])==null?void 0:j.trim().toLowerCase()}}).filter(m=>m.translation&&m.word),s}const D=s=>{if(window.speechSynthesis.cancel(),!s)return;const a=new SpeechSynthesisUtterance(s);a.lang="en-US",a.voice=window.speechSynthesis.getVoices().find(r=>(r.name==="Samantha"||r.name.includes("Google"))&&r.lang==="en-US"),window.speechSynthesis.speak(a)},Me=s=>{const a=new Audio(s);a.currentTime=0,a.play()};function Ie({exampleArray:s,isApi:a}){const[r,n]=l.useState(!1),[o,i]=l.useState({}),c=async(u,h)=>{if(o[h]!==void 0&&Object.keys(o).length>0){i(y=>({...y,[h]:void 0}));return}try{const m=(await se.get("https://api.mymemory.translated.net/get",{params:{q:u,langpair:"en|ru"}})).data.responseData.translatedText;i(_=>({..._,[h]:m}))}catch(y){console.error("Ошибка перевода:",y.message),i(m=>({...m,[h]:"Ошибка перевода"}))}};l.useEffect(()=>{n(!1),i({})},[s]);const{t:d}=I();return e.jsxs("div",{className:"break-words",children:[e.jsxs("button",{className:"flex items-center gap-2 cursor-pointer bg-[var(--dark)] dark:bg-[var(--light)] text-[var(--light)] dark:text-[var(--dark)] font-medium p-2 rounded-lg hover:opacity-70",onClick:()=>n(u=>!u),children:[s.length>1?`${a?"API":""} ${d("examples")}`:`${a?"API":""} ${d("example")}`,e.jsx("p",{className:`w-fit duration-500 ease-in-out transform transition-transform ${r?"-rotate-90":"rotate-0"}`,children:"👈"})]}),e.jsx(T.ul,{initial:!1,animate:r?"open":"closed",variants:{open:{opacity:1,height:"auto",marginTop:"12px",transition:{duration:.3,ease:"easeOut"}},closed:{opacity:0,height:0,marginTop:"0px",transition:{duration:.3,ease:"easeIn"}}},className:"overflow-hidden",children:s.map((u,h)=>e.jsx("li",{children:e.jsxs("span",{onClick:()=>D(u),className:"cursor-pointer text-2xl font-semibold hover:opacity-70",children:[`${s.length>1?h+1+". ":""}${o[h]||u}`,e.jsx(Q,{onClick:y=>{y.stopPropagation(),c(u,h)},className:"w-5 h-5 cursor-pointer hover:opacity-40 inline-block align-middle ml-2"})]})},h))},"list-examples")]})}function Le({showApiExamples:s,workArray:a,currentItem:r}){const[n,o]=l.useState([]),[i,c]=l.useState(!1),{t:d}=I(),u=async _=>{var p,k;try{c(!0);const S=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${_}`);if(!S.ok)throw new Error("Failed to fetch examples");const v=((k=(p=(await S.json())[0])==null?void 0:p.meanings[0])==null?void 0:k.definitions.filter(x=>x.example).map(x=>x.example))||[];o(v)}catch(S){console.error(S),o([])}finally{setTimeout(()=>{c(!1)},1e3)}};l.useEffect(()=>{var _;(_=a[r])!=null&&_.word&&(o([]),s&&u(a[r].word))},[a,r,s]);const h=l.useMemo(()=>!a||a.length===0||!a[r]?[]:a[r].example.split("+"),[a,r]),y=l.useMemo(()=>n.slice(0,3),[n]),m=(_,p,k)=>_&&e.jsx(Ie,{exampleArray:p,isApi:k});return e.jsxs(T.div,{className:"flex flex-col gap-2",initial:{opacity:0,height:"auto"},animate:{opacity:1,height:"auto",transition:{duration:.3}},exit:{opacity:0,height:0,transition:{duration:.2}},children:[e.jsx("div",{children:e.jsxs("p",{className:"break-words overflow-hidden",children:[d("word"),":"," ",e.jsx("button",{className:"cursor-pointer px-2 rounded-lg bg-[var(--dark)] text-[var(--light)] dark:bg-[var(--light)] dark:text-[var(--dark)] text-2xl font-semibold hover:opacity-70",onClick:()=>D(a[r].word),children:a.length>0&&a[r].word})]})}),e.jsx("div",{children:e.jsxs("p",{className:"break-words overflow-hidden",children:[d("translation"),":"," ",e.jsx("span",{className:"text-2xl font-semibold",children:a.length>0&&A(a,r)})]})}),e.jsx("div",{children:e.jsxs("p",{className:"break-words overflow-hidden",children:[d("part_of_speech"),":"," ",e.jsx("span",{className:"text-2xl font-semibold",children:a.length>0&&d(a[r].partOfSpeech).split("/").map(_=>d(_)).join("/")})]})}),e.jsx(T.div,{layout:!0,initial:{height:0,opacity:0},animate:{height:"auto",opacity:1,transition:{duration:.4,ease:"easeInOut"}},exit:{height:0,opacity:0,transition:{duration:.3}},className:"overflow-hidden mt-2",children:e.jsx(W,{mode:"wait",children:i?e.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto",transition:{duration:.3}},exit:{opacity:0,height:0,transition:{duration:.2}},children:d("loading_examples")},"loading"):(n.length>0||!s&&h.length>0)&&e.jsxs(T.div,{initial:{opacity:0,height:0,x:20},animate:{opacity:1,height:"auto",x:0,transition:{duration:.4,ease:"easeInOut"}},exit:{opacity:0,height:0,x:20,transition:{duration:.3}},children:[m(!s&&a.length>0&&a[r].example.length>=1,h,!1),m(n.length>0,y,!0)]},"examples")})})]})}function Ge({currentItem:s,workArray:a,sound:r,setCurrentItem:n,setSound:o}){const{t:i}=I(),c=ne(),d=u=>{let h;u==="next"?h=s+1>=a.length?s:s+1:h=s-1<=0?0:s-1,r&&D(a[h].word),n(h)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-center items-center mt-2 gap-5",children:[e.jsxs("button",{className:"buttonStyle flex-1 sm:flex-none",disabled:s===0,onClick:()=>d("prev"),children:[e.jsx("span",{className:"sm:hidden",children:"⬅️"}),e.jsxs("span",{className:"hidden sm:block",children:["⬅️ ",i("prev")]})]}),e.jsxs("p",{children:[s+1,"/",a.length]}),e.jsx("span",{className:"cursor-pointer hover:opacity-70",onClick:()=>o(u=>(localStorage.setItem("soundStatus",!u),!u)),children:r?"🔊":"🔇"}),e.jsxs("button",{className:"buttonStyle flex-1 sm:flex-none",disabled:s===a.length-1,onClick:()=>d("next"),children:[e.jsx("span",{className:"sm:hidden",children:"➡️"}),e.jsxs("span",{className:"hidden sm:block",children:[i("next")," ➡️"]})]})]}),e.jsx(W,{mode:"wait",children:s===a.length-1&&e.jsx(T.div,{className:"flex justify-center",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.5,ease:"easeInOut"},children:e.jsx("button",{className:"buttonStyle",onClick:()=>{n(0),c(`${R}/test`)},children:i("start_test")})})})]})}const Re=({sound:s,workArray:a,currentItem:r,showApiExamples:n})=>{const[o,i]=l.useState(!1),[c,d]=l.useState(a[r].word),[u,h]=l.useState(a[r].translation),[y,m]=l.useState(a[r].example),[_,p]=l.useState({}),k=async(g,C)=>{if(_[C]!==void 0&&Object.keys(_).length>0){p(E=>({...E,[C]:void 0}));return}try{const $=(await se.get("https://api.mymemory.translated.net/get",{params:{q:g,langpair:"en|ru"}})).data.responseData.translatedText;p(F=>({...F,[C]:$}))}catch(E){console.error("Ошибка перевода:",E.message),p($=>({...$,[C]:"Ошибка перевода"}))}},S=()=>{i(!o),s&&D(a[r].word)};l.useEffect(()=>{setTimeout(()=>{var g;h(a.length>0&&A(a,r)),m(a[r].example),(g=a[r])!=null&&g.word&&(v([]),n&&w(a[r].word)),p({})},300),d(a[r].word),i(g=>g===!0&&!1)},[r,a,n]);const[j,v]=l.useState([]),[x,b]=l.useState(!1),w=async g=>{var C,E;try{b(!0);const $=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${g}`);if(!$.ok)throw new Error("Failed to fetch examples");const U=((E=(C=(await $.json())[0])==null?void 0:C.meanings[0])==null?void 0:E.definitions.filter(G=>G.example).map(G=>G.example))||[];v(U)}catch($){console.error($),v([])}finally{setTimeout(()=>{b(!1)},1e3)}},f=l.useMemo(()=>j.slice(0,3),[j]);return e.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto",transition:{duration:.5}},exit:{opacity:0,height:0,transition:{duration:.5}},className:"flex justify-center items-center",children:e.jsx(W,{mode:"wait",children:e.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"w-80 h-48 perspective-1000 cursor-pointer",onClick:S,children:e.jsxs(T.div,{className:"relative w-full h-full",animate:{rotateY:o?180:0},transition:{duration:.6},style:{transformStyle:"preserve-3d"},children:[e.jsx("div",{className:"hover:opacity-70 transition-all duration-500 absolute w-full h-full flex items-center justify-center bg-[var(--light)] dark:bg-gray-900 dark:text-[var(--light)] text-3xl font-bold rounded-2xl shadow-2xl backface-hidden p-4",children:c}),e.jsx("div",{class:`absolute w-full h-full flex flex-col items-center 
                            bg-[var(--dark)] text-[var(--light)] dark:bg-[var(--light)] dark:text-gray-800 
                            p-4 rounded-2xl shadow-lg backface-hidden rotate-y-180 
                            overflow-y-auto max-h-full min-h-0`,children:e.jsxs("div",{class:"flex flex-col items-center justify-center flex-grow p-4",children:[e.jsx("p",{className:"text-3xl font-semibold break-all mb-3",children:u}),a.length>0&&a[r].example.length>=1&&!n&&y.split("+").map((g,C)=>e.jsxs("span",{onClick:E=>{E.stopPropagation(),D(g)},className:"text-center text-sm italic cursor-pointer font-semibold hover:opacity-70",children:[_[C]||g,e.jsx(Q,{onClick:E=>{E.stopPropagation(),k(g,C)},className:"w-5 h-5 cursor-pointer hover:opacity-40 inline-block align-middle ml-2"})]},g)),n&&x?e.jsx(e.Fragment,{children:"LOADING"}):j.length>0&&f.map((g,C)=>e.jsxs("span",{onClick:E=>{E.stopPropagation(),D(g)},className:"text-center text-sm italic cursor-pointer font-semibold hover:opacity-70",children:[_[C]||g,e.jsx(Q,{onClick:E=>{E.stopPropagation(),k(g,C)},className:"w-5 h-5 cursor-pointer hover:opacity-40 inline-block align-middle ml-2"})]},g))]})})]})})})})};function We({wordsData:s,uniqueParts:a,selectedPart:r,selectedTheme:n,setSelectedPart:o,setSelectedTheme:i,setUniqueParts:c,currentItem:d,setCurrentItem:u,sound:h,setSound:y,showApiExamples:m,trigger:_}){const{workArray:p,themeArray:k,handlePartChange:S,handleThemeChange:j}=ue({wordsData:s,selectedPart:r,selectedTheme:n,setSelectedPart:o,setSelectedTheme:i,setUniqueParts:c,trigger:_,setCurrentItem:u}),{t:v}=I(),[x,b]=l.useState("def"),w=l.useCallback(f=>{b(f)},[b]);return e.jsx(T.section,{initial:{opacity:0,x:-400,scale:.55},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:400,scale:.8},transition:{duration:.5,ease:"easeInOut"},className:"w-full",children:e.jsxs("div",{className:"max-w-170 mx-auto",children:[e.jsx("p",{className:"p-4 text-[var(--dark)] dark:text-[var(--light)] text-4xl font-semibold text-center",children:v("study_mode")}),e.jsx("div",{className:"flex justify-center gap-5",children:["card","def","list"].map(f=>e.jsx(te,{onClick:()=>w(f),isActive:x===f,children:e.jsx(T.span,{initial:{scale:1,opacity:1},animate:{scale:1.1,opacity:1},transition:{duration:10.3,ease:"easeInOut"},children:f==="def"?"📑":f==="card"?"🃏":"📋"})},f))}),e.jsxs("div",{className:"mt-3 flex flex-col gap-3 w-full dark:text-[var(--light)] text-[var(--dark)] text-2xl rounded-lg bg-blue-200 dark:bg-gray-800 p-7 shadow-2xl",children:[a.length>=1&&e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx(ae,{label:v("choose_part_of_speech"),value:r,options:a,onChange:S,isTheme:!1}),k.length>=1&&e.jsx(ae,{label:v("choose_theme"),value:n,options:k,onChange:j,isTheme:!0})]}),x==="def"&&e.jsx("div",{className:"flex gap-5 flex-col justify-center sm:flex-row sm:justify-between",children:e.jsx(Le,{showApiExamples:m,workArray:p,currentItem:d})}),e.jsx(W,{children:x==="card"&&e.jsx(Re,{workArray:p,currentItem:d,sound:h,showApiExamples:m})}),x!=="list"&&e.jsx(Ge,{currentItem:d,workArray:p,sound:h,setSound:y,setCurrentItem:u}),x==="list"&&e.jsx(Fe,{workArray:p,speak:D,showApiExamples:m})]})]})})}function Fe({workArray:s,showApiExamples:a}){const[r,n]=l.useState(!1),[o,i]=l.useState({}),[c,d]=l.useState({}),[u,h]=l.useState({}),[y,m]=l.useState(!1);l.useEffect(()=>{n(!1),i({}),d({}),h({}),m(!1)},[a]);const{t:_}=I(),p=(v,x)=>{a&&!u[x]&&S(v,x),i(b=>{const w={};return Object.keys(b).forEach(f=>{w[f]=!1}),w[x]=!b[x],w})},k=async(v,x,b)=>{var w;if(((w=c[x])==null?void 0:w[b])!==void 0){d(f=>({...f,[x]:{...f[x],[b]:void 0}}));return}try{const g=(await se.get("https://api.mymemory.translated.net/get",{params:{q:v,langpair:"en|ru"}})).data.responseData.translatedText;d(C=>({...C,[x]:{...C[x],[b]:g}}))}catch(f){console.error("Ошибка перевода:",f.message),d(g=>({...g,[x]:{...g[x],[b]:"Ошибка перевода"}}))}},S=async(v,x)=>{var b,w;try{m(!0);const f=await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${v}`);if(!f.ok)throw new Error("Failed to fetch examples");const C=((w=(b=(await f.json())[0])==null?void 0:b.meanings[0])==null?void 0:w.definitions.filter(E=>E.example).map(E=>E.example))||[];h(E=>({...E,[x]:C}))}catch(f){console.error(f),h(g=>({...g,[x]:[]}))}finally{setTimeout(()=>{m(!1)},1e3)}},j=l.useMemo(()=>v=>{var x;return((x=u[v])==null?void 0:x.slice(0,3))||[]},[u]);return e.jsxs(T.div,{transition:{duration:.5,ease:"easeInOut"},className:"w-full bg-[var(--light)] dark:bg-[var(--dark)] text-[var(--dark)] dark:text-[var(--light)] my-3 border rounded-lg shadow-md overflow-hidden",children:[e.jsx("button",{className:"w-full sticky top-0 flex justify-between items-center p-2 cursor-pointer hover:opacity-50 transition-opacity duration-300 border bg-[var(--light)] dark:bg-[var(--dark)] text-[var(--dark)] dark:text-[var(--light)]",onClick:()=>n(v=>!v),children:e.jsxs("span",{className:"font-bold text-xl",children:[_("count_of_words"),s.length]})}),e.jsx(W,{mode:"wait",children:r&&e.jsx(T.div,{initial:{maxHeight:0,opacity:0},animate:{maxHeight:300,opacity:1},exit:{maxHeight:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-y-auto",children:e.jsx("div",{className:"p-4 dark:text-[var(--light)] text-[var(--dark)]",children:e.jsx("ul",{className:"text-xl",children:s.map((v,x)=>e.jsxs("li",{className:"flex justify-between py-1 items-center",children:[e.jsxs("div",{onClick:()=>p(v.word,x),className:"flex flex-col max-w-[90%] cursor-pointer",children:[e.jsx("span",{className:"text-2xl font-bold",children:v.word}),e.jsx("span",{className:"text-[var(--dark)] dark:text-[var(--light)] max-w-[90%]",children:A(v.translation,-1,"translation")}),e.jsx(W,{children:o[x]&&e.jsx(T.div,{layout:!0,initial:{maxHeight:0,opacity:0},animate:{maxHeight:200,opacity:1},exit:{maxHeight:0,opacity:0},transition:{duration:.3,ease:"easeInOut"},className:"overflow-hidden",children:e.jsxs("div",{className:"border-t py-2 text-gray-700 dark:text-gray-300",children:[!a&&v.example.split("+").map((b,w)=>{var f;return e.jsxs("p",{onClick:g=>{g.stopPropagation(),D(b)},children:[((f=c[x])==null?void 0:f[w])||b,e.jsx(Q,{onClick:g=>{g.stopPropagation(),k(b,x,w)},className:"w-5 h-5 cursor-pointer hover:opacity-40 inline-block align-middle ml-2"})]},`${w}ab`)}),a&&(y?e.jsx(e.Fragment,{children:"LOADING"}):j(x).length>0&&j(x).map((b,w)=>{var f;return e.jsxs("p",{onClick:g=>{g.stopPropagation(),D(b)},className:"text-center text-sm italic cursor-pointer font-semibold hover:opacity-70",children:[((f=c[x])==null?void 0:f[w])||b,e.jsx(Q,{onClick:g=>{g.stopPropagation(),k(b,x,w)},className:"w-5 h-5 cursor-pointer hover:opacity-40 inline-block align-middle ml-2"})]},`${w}ba`)}))]})})})]}),e.jsx(ve,{onClick:()=>D(v.word),className:"shrink-0 cursor-pointer hover:opacity-50 w-5 h-5 sm:w-8 sm:h-8 dark:text-[var(--light)] text-[var(--dark)]"})]},x))})})})})]})}const me=async s=>{try{const a=await se.get(s);return new Promise((r,n)=>{je.parse(a.data,{header:!0,complete:o=>{const i=o.data.map(c=>{const d=Object.fromEntries(Object.entries(c).map(([u,h])=>[u.toLowerCase(),h]));return{word:d.word.trim()||"",translation:d.translation.trim()||"",example:d.example.trim()||"",partOfSpeech:d["part of speech"].trim().toLowerCase()||"",theme:d.theme.trim()||""}});r(i.filter(c=>c.translation&&c.word))},error:o=>n(o),skipEmptyLines:!0})})}catch(a){return console.error("Failed to fetch",a),null}};function De({showApiMenu:s,sound:a,setSound:r,showApiExamples:n,setShowApiExamples:o,setGoogleSpread:i,googleLink:c,googleSpread:d,wrongWords:u,setSettingsVisible:h,setMistakeTest:y}){const m=ne(),{t:_,i18n:p}=I(),k=f=>{f.stopPropagation(),r(g=>(localStorage.setItem("soundStatus",!g),!g))},S=f=>{f.stopPropagation(),o(g=>!g)},j=f=>{f.stopPropagation(),i(g=>(localStorage.setItem("googleSpread",!g),!g))},v=({onClick:f,children:g,className:C=""})=>e.jsx("button",{className:`buttonStyle !break-normal w-full sm:w-fit text-2xl sm:text-4xl font-bold ${C}`,onClick:f,children:g});function x(f){const g=f.target.value;p.changeLanguage(g)}const b={en:_("english"),ru:_("russian"),ua:_("ukrainian")};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-center w-full sm:w-fit bg-[var(--dark)] text-[var(--light)] dark:bg-[var(--light)] dark:text-[var(--dark)] p-2 gap-2 rounded-lg",children:[e.jsx("p",{className:"text-2xl sm:text-4xl font-bold select-none",children:_("language_menu")}),e.jsx("select",{className:" truncate cursor-pointer bg-[var(--light)] text-[var(--dark)] dark:bg-[var(--dark)] dark:text-[var(--light)] p-1 rounded-lg outline-none hover:opacity-70 text-2xl font-medium select-none",value:p.language,onChange:x,children:Object.entries(b).map(([f,g])=>e.jsx("option",{value:f,children:g},f))})]}),e.jsx(v,{onClick:k,children:_(a?"sound_enabled":"sound_disabled")}),s&&e.jsx(v,{onClick:S,children:_(n?"api_examples_enabled":"api_examples_disabled")}),e.jsx(v,{onClick:f=>{f.stopPropagation(),h(!1),m(`${R}/custom`)},children:_(c?"edit_gs":"add_gs")}),c&&e.jsx(v,{onClick:j,children:_(d?"current_data_gs":"current_data_default")}),u.length>0&&e.jsx(v,{onClick:f=>{f.stopPropagation(),h(!1),y(!1),m(`${R}/mistakes`)},children:_("mistakes_list")})]})}function Be({theme:s,setTheme:a,setSettingsVisible:r,resetAll:n,sound:o,setSound:i,showApiExamples:c,setShowApiExamples:d,googleSpread:u,setGoogleSpread:h,googleLink:y,wrongWords:m,setMistakeTest:_,showApiMenu:p}){const k=j=>{j.target===j.currentTarget&&r(!1)};l.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]);const{t:S}=I();return e.jsxs(T.div,{initial:{opacity:0,y:-200},animate:{opacity:1,y:0},exit:{opacity:0,y:-200},transition:{duration:.5,ease:"easeOut"},className:"fixed z-51 inset-0 flex flex-col min-w-[320px] backdrop-blur-xs overflow-auto",children:[e.jsx(he,{theme:s,setTheme:a,setSettingsVisible:r,logoClick:j=>{j.stopPropagation(),n()},onClick:j=>j.stopPropagation(),children:e.jsxs("div",{className:"flex flex-col items-center",children:["EnglishMan ",e.jsx("br",{}),e.jsx("span",{className:"text-xl",children:S("settings")})]})}),e.jsx("div",{className:"grow flex flex-col gap-5 justify-center items-center w-full container pb-5",onClick:k,children:e.jsx(De,{showApiExamples:c,sound:o,setSound:i,setShowApiExamples:d,setGoogleSpread:h,googleLink:y,googleSpread:u,wrongWords:m,setSettingsVisible:r,setMistakeTest:_,showApiMenu:p})})]})}function Ve({onComplete:s,loadingData:a}){const[r,n]=l.useState(""),[o]=l.useState(()=>window.innerWidth<=640?"<EnglishMan />":"<This is EnglishMan />"),i=l.useRef(a);return l.useEffect(()=>{i.current=a},[a]),l.useEffect(()=>{let c=0;const d=setInterval(()=>{n(o.substring(0,c)),c++,c>o.length&&(i.current||s(),c=0)},100);return()=>clearInterval(d)},[s]),e.jsxs("div",{className:"min-w-[320px] fixed inset-0 z-999 bg-[var(--light)] text-[var(--dark)] dark:bg-[var(--dark)] dark:text-[var(--light)] flex flex-col items-center justify-center p-10",children:[e.jsxs("div",{className:"mb-4 text-3xl sm:text-4xl font-mono font-bold select-none",children:[r," ",e.jsx("span",{className:"animate-blink",children:" | "})]}),e.jsx("div",{className:"w-[200px] h-[2px] bg-[var(--dark)] dark:bg-[var(--light)] rounded relative overflow-hidden",children:e.jsx("div",{className:"w-[40%] h-full bg-amber-50 dark:bg-gray-800 animate-loading-bar"})})]})}function Je({fullText:s}){const[a,r]=l.useState("");return l.useEffect(()=>{let n=0;const o=setInterval(()=>{r(s.substring(0,n)),n++,n>s.length&&(n=0)},100);return()=>clearInterval(o)},[s]),e.jsxs("div",{className:"min-w-[320px] fixed inset-0 z-999 bg-[var(--light)] text-[var(--dark)] dark:bg-[var(--dark)] dark:text-[var(--light)] flex flex-col items-center justify-center p-10",children:[e.jsxs("div",{className:"mb-4 text-3xl sm:text-4xl font-mono font-bold select-none",children:[a," ",e.jsx("span",{className:"animate-blink",children:" | "})]}),e.jsx("div",{className:"w-[200px] h-[2px] bg-[var(--dark)] dark:bg-[var(--light)] rounded relative overflow-hidden",children:e.jsx("div",{className:"w-[40%] h-full bg-amber-50 dark:bg-gray-800 animate-loading-bar"})})]})}function Ue({wrongWords:s,setMistakeTest:a,setTestMode:r,setCurrentItem:n}){const{t:o}=I(),i=ne();return e.jsx(T.section,{initial:{opacity:0,scale:.3,y:400},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.5,y:"-50vh"},transition:{duration:.5,ease:"easeInOut"},className:"w-full flex justify-center",children:e.jsxs("div",{className:"max-w-full sm:max-w-[650px] flex flex-col justify-center",children:[e.jsx("p",{className:"text-[var(--dark)] dark:text-[var(--light)] text text-3xl font-bold",children:o("mistake_list_header")}),e.jsx("p",{className:"mt-2 text-[var(--dark)] dark:text-[var(--light)] text-xl font-medium",children:`${o("you_have")} ${s.length} ${o("weak")} ${s.length>1?o("words"):o("word").toLowerCase()}`}),s.length>0&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"mt-4 max-h-[400px] overflow-y-auto text-[var(--dark)] dark:text-[var(--light)] w-full border border-gray-300 dark:border-gray-600",children:e.jsx("div",{className:"w-full overflow-x-auto",children:e.jsxs("table",{className:"w-full min-w-[500px] border-collapse border border-gray-300 dark:border-gray-600",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-200 dark:bg-gray-700 text-sm sm:text-lg",children:[e.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-2 py-1 text-left",children:"№"}),e.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-2 py-1 text-left",children:o("word")}),e.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-2 py-1 text-left",children:o("translation")}),e.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-2 py-1 text-left",children:o("example")}),e.jsx("th",{className:"border border-gray-300 dark:border-gray-600 px-2 py-1 text-left",children:o("part_of_speech")})]})}),e.jsx("tbody",{children:s.map((c,d)=>e.jsxs("tr",{className:"odd:bg-gray-100 even:bg-white dark:odd:bg-gray-800 dark:even:bg-gray-900 text-sm sm:text-lg",children:[e.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-2 py-1",children:d+1+")"}),e.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-2 py-1 cursor-pointer hover:opacity-70",children:c.word}),e.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-2 py-1",children:A(c.translation,-1,"translation")}),e.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-2 py-1",children:c.example.split("+").join(" ")}),e.jsx("td",{className:"border border-gray-300 dark:border-gray-600 px-2 py-1",children:o(c.partOfSpeech).split("/").map(u=>o(u)).join("/")})]},d))})]})})}),e.jsx("button",{onClick:()=>{n(0),a(!0),i(`${R}/test`)},className:"mt-5 buttonStyle text-xl font-medium",children:o("start_test")})]})]})})}function He({googleLink:s,setGoogleLink:a,setLoadingData:r}){const{t:n}=I(),[o,i]=l.useState(""),[c,d]=l.useState(!1),u=async()=>{o!==""&&(await h()?(a(o),localStorage.setItem("googleLink",o)):alert(n("something_wrong"))),i("")};async function h(){try{r(!0);const y=await me(o);return console.log(y),r(!1),y!==null&&y.length>0}catch{return console.log("Failed to load data. Please try again later."),r(!1),!1}}return e.jsxs(T.div,{initial:{opacity:0,x:"100vw",y:"100vh",scale:.55},animate:{opacity:1,x:0,y:0,scale:1},exit:{opacity:0,x:"-100vw",y:"-100vh",scale:.95},transition:{duration:.5,ease:"easeInOut"},className:"rounded-lg dark:bg-[var(--light)] text-[var(--light)] border bg-[var(--dark)] dark:text-[var(--dark)] p-5 w-full sm:max-w-3xl",children:[e.jsx("span",{className:"font-semibold text-2xl sm:text-3xl",children:n("google_settings_hello")}),e.jsxs("div",{className:"my-3 border rounded-lg shadow-md overflow-hidden",children:[e.jsxs("button",{className:"w-full flex justify-between items-center p-2 cursor-pointer hover:opacity-50 transition-opacity duration-900",onClick:()=>d(y=>!y),children:[e.jsx("span",{className:"font-bold text-xl",children:n("instruction")}),e.jsx(be,{className:`duration-500 ease-in-out transform transition-transform ${c?"rotate-180":"rotate-0"}`})]}),e.jsx(T.div,{initial:{height:0,opacity:0},animate:{height:c?"auto":0,opacity:c?1:0},transition:{duration:.5,ease:"easeInOut"},className:"overflow-hidden",children:e.jsx("div",{className:"p-4 border-t text-[var(--light)] dark:text-gray-700",children:e.jsxs("ul",{className:"text-xl",children:[e.jsx("li",{children:n("instruction_list_1")}),e.jsx("li",{children:n("instruction_list_2")}),e.jsxs("li",{children:[n("instruction_list_3"),e.jsxs("ul",{className:"list-disc pl-4",children:[e.jsx("li",{children:n("instruction_list_3_1")}),e.jsx("li",{children:n("instruction_list_3_2")}),e.jsx("li",{children:n("instruction_list_3_3")})]})]}),e.jsx("li",{children:n("instruction_list_4")}),e.jsx("li",{children:n("instruction_list_5")})]})})})]}),e.jsx("span",{className:"text-xl font-bold",children:n("important_google")}),s!==null&&e.jsx("div",{className:"mt-5 text-xl font-medium underline",children:e.jsx("a",{href:s,children:n("cur_link")})}),e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{className:"text-xl font-bold",children:n("paste_link")}),e.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"text",placeholder:"google sheet link..",className:"border rounded-lg px-2 py-1",value:o,onChange:y=>i(y.target.value)}),e.jsx("button",{className:"select-none text-xl font-semibold border py-1 px-2 rounded-lg cursor-pointer bg-[var(--light)] text-[var(--dark)] dark:bg-[var(--dark)] dark:text-[var(--light)] hover:opacity-50",onClick:u,children:n("add")})]})]})]})}function de({motionKey:s,x1:a=0,x2:r=0,x3:n=0,y1:o=0,y2:i=0,y3:c=0,scale1:d=1,scale2:u=1,scale3:h=1,opacity1:y=0,opacity2:m=1,opacity3:_=0,duration:p=.5,animation:k="easeInOut",style:S="",children:j}){return e.jsx(T.div,{layout:!0,initial:{opacity:y,x:a,y:o,scale:d},animate:{opacity:m,x:r,y:i,scale:u},exit:{opacity:_,x:n,y:c,scale:h},transition:{duration:p,ease:k},className:S,children:j},s)}const ze=l.memo(Pe),Ae=l.memo(We),R="";function Ye(){return e.jsx(ke,{children:e.jsx(Ke,{})})}function Ke(){const{t:s}=I(),a=we(),r=ne(),[n,o]=l.useState(null),[i,c]=l.useState("all"),[d,u]=l.useState("all"),[h,y]=l.useState([]),[m,_]=l.useState(0),[p,k]=l.useState(!1),[S,j]=l.useState([]),[v,x]=l.useState(!1),[b,w]=l.useState(localStorage.getItem("soundStatus")===null?!0:localStorage.getItem("soundStatus")==="true"),[f,g]=l.useState(!1),[C,E]=l.useState(!1),[$,F]=l.useState(localStorage.getItem("googleLink")!==null&&(localStorage.getItem("googleSpread")===null?!0:localStorage.getItem("googleSpread")==="true")),[U,G]=l.useState(!1),[J,P]=l.useState(()=>JSON.parse(localStorage.getItem("wrongWords")||"[]")),[Y,K]=l.useState(!1),[X,B]=l.useState(localStorage.getItem("themeColor")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),[N,Z]=l.useState(localStorage.getItem("googleLink")),[ee,oe]=l.useState(!1),[H,q]=l.useState(!1);l.useEffect(()=>{async function L(){try{c("all"),u("all"),_(0),G(!0);const ce=$&&N?await me(N):await le();ce.length>0?j(ce):(alert(s("empty_google_sheet")),j(await le()),F(!1),localStorage.setItem("googleSpread",!1))}catch{alert(s("gsh_some_problem")),j(await le()),F(!1),localStorage.setItem("googleSpread",!1)}finally{G(!1)}}L()},[$,N]);const O=l.useCallback(()=>{setTimeout(()=>{o(null),k(L=>!L),c("all"),u("all"),y([]),_(0)},100),x(!1),K(!1),r(`${R}/`)},[]),M=l.useMemo(()=>({wordsData:S,setUniqueParts:y,testMode:n,setTestMode:o,uniqueParts:h,selectedPart:i,selectedTheme:d,setSelectedPart:c,setSelectedTheme:u,currentItem:m,setCurrentItem:_,sound:b,setSound:w,showApiExamples:f,setShowApiExamples:g,trigger:p,setWrongWords:P,wrongWords:J,mistakeTest:Y,resetAll:O,fastAnimation:H,setFastAnimation:q,setMistakeTest:K,googleLink:N,setGoogleLink:Z,setLoadingData:G}),[f,N,H,S,n,h,i,d,m,b,p,Y,O,J]),V=l.useCallback(()=>oe(!0),[]);return e.jsxs(e.Fragment,{children:[e.jsx(W,{mode:"wait",children:!ee&&e.jsx(de,{motionKey:"preloader",opacity1:1,opacity2:1,opacity3:0,duration:.7,y3:"-100vh",animation:"easeInOut",style:"fixed z-101 w-screen h-screen inset-0 dark:bg-[var(--dark)] bg-[var(--light)]",children:e.jsx(Ve,{loadingData:U,onComplete:V})})}),e.jsx(W,{mode:"wait",children:U&&e.jsx(de,{motionKey:"loader-data",style:"fixed inset-0 flex items-center justify-center z-99",opacity3:0,y3:"100vh",y1:0,y2:0,children:e.jsx(Je,{fullText:"Loading...⏳"})})}),e.jsxs("div",{className:`flex flex-col dark:text-[var(--light)] text-[var(--dark)] ${v?"h-[100dvh]":"min-h-[100dvh]"}`,children:[e.jsxs(he,{theme:X,setTheme:B,settingsVisible:v,setSettingsVisible:x,logoClick:O,children:["EnglishMa",e.jsx("span",{onClick:L=>{L.stopPropagation(),Me("click.mp3"),E(re=>!re)},children:"n"})]}),e.jsx("main",{className:"flex flex-col items-center justify-center grow container",children:e.jsx(W,{mode:"wait",children:e.jsxs(Ne,{location:a,children:[e.jsx(z,{path:R,element:e.jsx(qe,{navigate:r})}),e.jsx(z,{path:`${R}/test`,element:e.jsx(ze,{...M})}),e.jsx(z,{path:`${R}/study`,element:e.jsx(Ae,{...M})}),e.jsx(z,{path:`${R}/mistakes`,element:e.jsx(Ue,{...M})}),e.jsx(z,{path:`${R}/custom`,element:e.jsx(He,{...M})}),e.jsx(z,{path:"*",element:e.jsxs("div",{children:["404 - ",s("404")]})})]},a.pathname)})}),e.jsx("footer",{className:"p-5 text-center font-semibold",children:e.jsxs("span",{children:["Kyiv ",new Date().getFullYear()]})})]}),e.jsx(W,{mode:"wait",children:v&&e.jsx(Be,{showApiMenu:C,sound:b,setSound:w,theme:X,setTheme:B,setSettingsVisible:x,resetAll:O,googleSpread:$,setGoogleSpread:F,googleLink:N,setGoogleLink:Z,wrongWords:J,setMistakeTest:K,setShowApiExamples:g,showApiExamples:f})})]})}function qe({navigate:s}){const{t:a}=I();return e.jsxs(T.section,{initial:{opacity:0,scale:.55},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.5,ease:"easeInOut"},className:"max-w-[600px]",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-semibold text-center mb-5 transition-colors duration-700",children:a("hello_text")}),e.jsxs("div",{className:"mt-7 flex justify-center gap-5 flex-wrap",children:[e.jsx(te,{onClick:()=>s(`${R}/study`),children:a("study_mode")}),e.jsx(te,{onClick:()=>s(`${R}/test`),children:a("test_mode")})]})]})}Se.createRoot(document.getElementById("root")).render(e.jsx(l.StrictMode,{children:e.jsx(Ye,{})}));
